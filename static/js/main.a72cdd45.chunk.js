(this.webpackJsonpatelierreact=this.webpackJsonpatelierreact||[]).push([[0],{37:function(e,t,r){},38:function(e,t,r){},62:function(e,t,r){"use strict";r.r(t);var s=r(0),a=r(1),n=r.n(a),c=r(30),i=r.n(c);r(37),r(38);var l=function(){return Object(s.jsx)("header",{className:"bg-dark text-white p-5 text-center",children:Object(s.jsx)("h1",{children:"Discover the world of Star Wars"})})},o=r(4);var u=function(){return Object(s.jsxs)("ul",{className:"nav bg-warning",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(o.b,{to:"/home",className:"nav-link text-dark",children:"Home"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(o.b,{to:"/research",className:"nav-link text-dark",children:"Research"})})]})};var j=function(){return Object(s.jsxs)("header",{className:"bg-dark text-white p-5 text-center mt-0 mb-0",children:[Object(s.jsx)("p",{children:"A sample app to help the students understand React and the REST API"}),Object(s.jsx)("p",{children:"Sincere Thanks to the SWAPI team (https://swapi.dev/) for their awesome free and open API"})]})},d=r(9),h=r(10),b=r(13),m=r(12),p=r(11),O=r.n(p);var x=function(e){return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:e.message})};var g=function(e){return Object(s.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3",children:Object(s.jsx)("div",{className:"alert bg-dark my-3 py-5 text-center",role:"alert",children:Object(s.jsx)(o.b,{className:"text-warning",to:"/resource/"+e.resourceName+"/page/1",children:e.resourceName})})},e.index)},v=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).getResources=function(){O.a.get(a.baseUrl).then((function(e){a.makeResourcesList(e.data)})).catch((function(e){a.setState({error:e,isLoaded:!0,resourcesList:null,message:"Un probl\xe8me est survenu, nous ne parvenons pas \xe0 r\xe9cup\xe9rer les donn\xe9es"})}))},a.makeResourcesList=function(e){var t=Object.keys(e).map((function(e,t){return Object(s.jsx)(g,{index:t,resourceName:e})}));a.setState({resourcesList:t,isLoaded:!0,error:null,message:null})},a.baseUrl="https://swapi.dev/api/",a.state={resourcesList:null,error:null,isLoaded:!1,message:"Chargement en cours"},a}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.getResources()}},{key:"render",value:function(){return this.state.isLoaded?this.state.error?Object(s.jsx)(x,{message:this.state.message}):Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:"Click and start to explore !"}),Object(s.jsx)("div",{className:"row",children:this.state.resourcesList})]}):Object(s.jsx)("p",{children:this.state.message})}}]),r}(n.a.Component),f=r(16),N=r(2);var k=function(e){var t=null,r=null;if(e.previous){var a="/resource/"+e.resourceName+"/page/"+(parseInt(e.page)-1);r=Object(s.jsx)(o.b,{to:a,className:"btn btn-dark text-warning mx-2",children:"Previous"})}if(e.next){var n="/resource/"+e.resourceName+"/page/"+(parseInt(e.page)+1);t=Object(s.jsx)(o.b,{to:n,className:"btn btn-dark text-warning mx-2",children:"Next"})}return Object(s.jsxs)("div",{className:"mt-3 text-center",children:[r,t]})};var y=function(e){var t=e.entries.map((function(t,r){return Object(s.jsx)("li",{className:"list-group-item bg-dark border-bottom border-secondary",children:Object(s.jsx)(o.b,{to:{pathname:"/resource/"+e.resourceName+"/detail",state:{detailurl:t.url}},className:"text-warning",href:"",children:t[Object.keys(t)[0]]})},r)}));return Object(s.jsx)("ul",{className:"list-group",children:t})};var L=function(){var e=Object(N.g)(),t=e.resourceName,r=e.page,n="https://swapi.dev/api/"+t+"/?page="+r,c=Object(a.useState)({data:null,error:null,isLoaded:!1,message:"Chargement en cours"}),i=Object(f.a)(c,2),l=i[0],o=i[1];return Object(a.useEffect)((function(){O.a.get(n).then((function(e){o({data:e.data,isLoaded:!0,error:null,message:null})})).catch((function(e){o({data:null,error:e,isLoaded:!0,message:"Un probl\xe8me est survenu, nous ne parvenons pas \xe0 r\xe9cup\xe9rer les donn\xe9es "})}))}),[r]),l.isLoaded?l.error?Object(s.jsx)(x,{message:l.message}):Object(s.jsxs)("section",{children:[Object(s.jsxs)("h2",{children:["Detail of the ",t," resource"]}),Object(s.jsx)(y,{entries:l.data.results,resourceName:t}),Object(s.jsx)(k,{resourceName:t,page:r,next:l.data.next,previous:l.data.previous})]}):Object(s.jsx)("p",{children:l.message})};var w=function(e){var t=e.subEntry.map((function(e,t){return Object(s.jsx)("li",{className:"bg-dark text-warning",children:e},t)}));return Object(s.jsx)("ul",{children:t})};var C=function(e){var t=Object.keys(e.entry).map((function(t,r){var a=e.entry[t];return Array.isArray(a)&&(a=Object(s.jsx)(w,{subEntry:a})),Object(s.jsxs)("li",{className:"list-group-item bg-dark border-bottom border-secondary text-warning",children:[t," : ",a]},r)}));return Object(s.jsx)("ul",{className:"list-group",children:t})};var S=function(){var e=Object(N.f)().state.detailurl,t=Object(a.useState)({data:null,error:null,isLoaded:!1,message:"Chargement en cours"}),r=Object(f.a)(t,2),n=r[0],c=r[1];return Object(a.useEffect)((function(){O.a.get(e).then((function(e){c({data:e.data,isLoaded:!0,error:null,message:null})})).catch((function(e){c({data:null,error:e,isLoaded:!0,message:"Un probl\xe8me est survenu, nous ne parvenons pas \xe0 r\xe9cup\xe9rer les donn\xe9es "})}))}),[]),n.isLoaded?n.error?Object(s.jsx)(x,{message:n.message}):Object(s.jsx)(C,{entry:n.data}):Object(s.jsx)("p",{children:n.message})},R=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(e){var s;return Object(d.a)(this,r),(s=t.call(this,e)).handleChange=function(e){s.setState({value:e.target.value}),s.props.onChange(e.target.value)},s.state={value:1},s}return Object(h.a)(r,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{children:[Object(s.jsx)("label",{htmlFor:"selectCharacter",className:"form-label",children:"Write your id here"}),Object(s.jsx)("input",{id:"selectCharacter",value:this.state.value,className:"form-control w-50",type:"text",onChange:this.handleChange})]})})}}]),r}(n.a.Component),I=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(e){return Object(d.a)(this,r),t.call(this,e)}return Object(h.a)(r,[{key:"render",value:function(){return console.log(this.props.searchResult),this.props.searchResult.isLoaded?this.props.searchResult.error?Object(s.jsx)(x,{message:this.props.searchResult.message}):Object(s.jsx)("div",{children:Object(s.jsx)(C,{entry:this.props.searchResult.data})}):Object(s.jsx)("p",{className:"alert alert-light",children:this.props.searchResult.message})}}]),r}(n.a.Component),T=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(e){var s;return Object(d.a)(this,r),(s=t.call(this,e)).handleChange=function(e){s.requestToSwapi(e)},s.requestToSwapi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="https://swapi.dev/api/people/"+e+"/";O.a.get(t).then((function(e){s.setState({data:e.data,isLoaded:!0,error:null,message:null})})).catch((function(e){s.setState({data:null,error:e,isLoaded:!0,message:"Nous n'avons pas r\xe9ussi \xe0 r\xe9cup\xe9rer la ressource, v\xe9rifiez que l'id existe"})}))},s.state={data:null,error:null,isLoaded:!1,message:"Chargement en cours"},s}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.requestToSwapi()}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Write character's ID"}),Object(s.jsx)(R,{onChange:this.handleChange}),Object(s.jsxs)("section",{className:"my-5",children:[Object(s.jsx)("h3",{children:"Selected character :"}),Object(s.jsx)(I,{searchResult:this.state})]})]})}}]),r}(n.a.Component);var A=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(l,{}),Object(s.jsxs)(o.a,{children:[Object(s.jsx)(u,{}),Object(s.jsx)("main",{className:"container my-5",children:Object(s.jsxs)(N.c,{children:[Object(s.jsx)(N.a,{path:"/home",children:Object(s.jsx)(v,{})}),Object(s.jsx)(N.a,{path:"/research",children:Object(s.jsx)(T,{})}),Object(s.jsx)(N.a,{path:"/resource/:resourceName/page/:page",children:Object(s.jsx)(L,{})}),Object(s.jsx)(N.a,{path:"/resource/:resourceName/detail",children:Object(s.jsx)(S,{})}),Object(s.jsx)(N.a,{path:"",children:Object(s.jsx)(v,{})})]})})]}),Object(s.jsx)(j,{})]})},D=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,63)).then((function(t){var r=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,c=t.getTTFB;r(e),s(e),a(e),n(e),c(e)}))};i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(A,{})}),document.getElementById("root")),D()}},[[62,1,2]]]);
//# sourceMappingURL=main.a72cdd45.chunk.js.map